name: 'Folk Archive'
description: 'Acquires and runs Folk Archive archive builder'
inputs:
  archive_dir:
    description: 'Directory containing archival data'
    required: true
    default: 'content'
  theme_dir:
    description: 'Directory containing the site theme data'
    required: true
    default: 'site'
runs:
  using: 'docker'
  image: 'Dockerfile'
  args:
    - ${{ inputs.archive_dir }}
    - ${{ inputs.theme_dir }}

working_dir: /archive
volumes:
  - ./:/archive
  - ./archive/${{ inputs.archive_dir }}
  - ./archive/${{ inputs.theme_dir }}

  commands: |
  - sh -c"cd archive"
  - sh -c"go run main.go"
